# openclaw
Modded the original "_bash script to provision Openclaw + Kimi 2.5 + Tailscale on fresh Ubuntu box_" by https://github.com/mortalezz

# OpenClaw: –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (Hetzner + z.ai + OpenRouter)

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç bash-—Å–∫—Ä–∏–ø—Ç –¥–ª—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è AI-—à–ª—é–∑–∞ **OpenClaw** –Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–∞—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (–≤ —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è Hetzner VDS –Ω–∞ –±–∞–∑–µ Ubuntu/Debian).

–°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **z.ai** —Å –º–æ–¥–µ–ª—å—é **glm4.7** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞, –∏ **OpenRouter** –∫–∞–∫ –Ω–∞–¥–µ–∂–Ω—É—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É (fallback).

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –≤–∞—à–µ–º—É —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH –∫–∞–∫ `root` –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```bash
# 1. –ó–∞–¥–∞–π—Ç–µ –≤–∞—à–∏ API –∫–ª—é—á–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–∏ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–ª—é—á–∏)
export ZAI_API_KEY="–≤–∞—à_–∫–ª—é—á_–æ—Ç_zai"
export OPENROUTER_API_KEY="sk-or-–≤–∞—à_–∫–ª—é—á_–æ—Ç_openrouter"

# 2. –°–∫–∞—á–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç (–µ—Å–ª–∏ –≤—ã —Å–æ—Ö—Ä–∞–Ω–∏–ª–∏ –µ–≥–æ –∫–∞–∫ openclaw-setup.sh)
chmod +x openclaw-setup.sh

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
./openclaw-setup.sh



üõ† –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–∞: –ß—ë, –∫–∞–∫ –∏ –ø–æ—á–µ–º—É –¥–µ–ª–∞–µ—Ç—Å—è

–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è) ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤, —ç—Ç–æ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π provisioning script. –û–Ω —Ä–µ—à–∞–µ—Ç —Ä—è–¥ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º –¥–µ—à–µ–≤—ã—Ö VDS —Å–µ—Ä–≤–µ—Ä–æ–≤. –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–±–∏—Ç –Ω–∞ 6 –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–∑:
–§–∞–∑–∞ 1: –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —è–¥—Ä–∞

    –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã (apt upgrade) –Ω–∞ —Å–≤–µ–∂–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö Hetzner —á–∞—Å—Ç–æ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —è–¥—Ä–æ Linux (kernel). –ï—Å–ª–∏ –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å–µ—Ä–≤–µ—Ä, apt –º–æ–∂–µ—Ç "–ø–æ–≤–∏—Å–Ω—É—Ç—å" –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ —Å–ª–µ–¥—É—é—â–∏—Ö –ø–∞–∫–µ—Ç–æ–≤.

    –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–∞ /var/run/reboot-required. –ï—Å–ª–∏ –æ–Ω –µ—Å—Ç—å, —Å–∫—Ä–∏–ø—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–µ–±—è –≤ cron (@reboot), –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–µ—Ä–≤–µ—Ä –≤ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫—É –∏ –ø–æ—Å–ª–µ –≤–∫–ª—é—á–µ–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å —Ç–æ–≥–æ –º–µ—Å—Ç–∞, –≥–¥–µ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è.

–§–∞–∑–∞ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Ñ–∏–∫—Å dbus

    –ü—Ä–æ–±–ª–µ–º–∞: –ù–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–∞—Ö Ubuntu –æ—Ç Hetzner –≤—ã—Ä–µ–∑–∞–Ω –ø–∞–∫–µ—Ç dbus-user-session. –ë–µ–∑ –Ω–µ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã systemd –æ—Ç –∏–º–µ–Ω–∏ –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (—á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ–≥–æ —Ñ–æ–Ω–æ–≤–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è).

    –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç: –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –±–∞–∑–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã (git, curl, nodejs, ufw) –∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ —Å—Ç–∞–≤–∏—Ç dbus-user-session.

–§–∞–∑–∞ 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è openclaw

    –ü–æ—á–µ–º—É: –ó–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç –ª–∏—Ü–∞ root ‚Äî –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω–æ.

    –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:

        –°–æ–∑–¥–∞–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è openclaw –±–µ–∑ –ø–∞—Ä–æ–ª—è.

        –í–∫–ª—é—á–∞–µ—Ç loginctl enable-linger (—ç—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ñ–æ–Ω–æ–≤—ã–º –ø—Ä–æ—Ü–µ—Å—Å–∞–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –ø–æ—Å–ª–µ —Ç–æ–≥–æ, –∫–∞–∫ –≤—ã –∑–∞–∫—Ä–æ–µ—Ç–µ SSH).

        –ö–æ–ø–∏—Ä—É–µ—Ç –≤–∞—à–∏ SSH-–∫–ª—é—á–∏ –æ—Ç root –∫ –Ω–æ–≤–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é –∫ openclaw.

–§–∞–∑–∞ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (UFW)

    –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç: –í–∫–ª—é—á–∞–µ—Ç –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –∏ –±–ª–æ–∫–∏—Ä—É–µ—Ç –≤—Å–µ –≤—Ö–æ–¥—è—â–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è, –æ—Å—Ç–∞–≤–ª—è—è –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ —Ç–æ–ª—å–∫–æ –¥–≤–∞ –ø–æ—Ä—Ç–∞:

        22 (SSH –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è).

        18789 (–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ—Ä—Ç Gateway, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞–±–æ—Ç–∞–µ—Ç OpenClaw).

–§–∞–∑–∞ 5: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI-–ü—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (z.ai + OpenRouter)

    –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç: –°–∫–∞—á–∏–≤–∞–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ OpenClaw, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç NPM-–ø–∞–∫–µ—Ç—ã –∏ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∫—Ä—ã—Ç—ã–π —Ñ–∞–π–ª .env.

    –ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫ –Ω–∞—Å—Ç—Ä–æ–µ–Ω .env:

        PRIMARY_PROVIDER=z.ai –∏ PRIMARY_MODEL=glm4.7: –í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –±—É–¥—É—Ç –Ω–∞–ø—Ä–∞–≤–ª—è—Ç—å—Å—è –≤ z.ai –∫ –º–æ—â–Ω–æ–π –º–æ–¥–µ–ª–∏ glm4.7.

        FALLBACK_PROVIDER=openrouter: –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä—ã z.ai –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω—ã –∏–ª–∏ —É–ø–∞–ª–∏, OpenClaw –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ö–≤–∞—Ç–∏—Ç –æ—à–∏–±–∫—É –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –¥–ª—è –≤–∞—Å –æ—Ç–ø—Ä–∞–≤–∏—Ç –∑–∞–ø—Ä–æ—Å –≤ OpenRouter (–Ω–∞–ø—Ä–∏–º–µ—Ä, –∫ gemini-2.5-flash), –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É—è, —á—Ç–æ –≤–∞—à –∫–æ–¥ –∏–ª–∏ —á–∞—Ç –Ω–µ –∑–∞–≤–∏—Å–Ω–µ—Ç.

–§–∞–∑–∞ 6: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (Systemd)

    –ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç: –°–æ–∑–¥–∞–µ—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é —Å–ª—É–∂–±—É (/etc/systemd/system/openclaw.service).

    –ü–æ—á–µ–º—É —ç—Ç–æ –Ω—É–∂–Ω–æ: –≠—Ç–æ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç, —á—Ç–æ OpenClaw –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ñ–æ–Ω–µ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ. –ï—Å–ª–∏ –ø—Ä–æ–≥—Ä–∞–º–º–∞ —Å–ª—É—á–∞–π–Ω–æ —É–ø–∞–¥–µ—Ç, systemd –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –µ—ë –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç (Restart=on-failure). –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä —Ñ–∏–∑–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è, OpenClaw –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è —Å–∞–º –≤–º–µ—Å—Ç–µ —Å –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–Ω–æ–π —Å–∏—Å—Ç–µ–º–æ–π.

üîé –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏

    –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ —Å–µ—Ä–≤–∏—Å:
    systemctl status openclaw

    –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–æ—Ç–ª–∞–¥–∫–∞):
    journalctl -u openclaw -f

    –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å OpenClaw (–Ω–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –≤—ã —Ä—É–∫–∞–º–∏ –ø–æ–º–µ–Ω—è–ª–∏ .env):
    systemctl restart openclaw
