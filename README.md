# openclaw
Modded the original "_bash script to provision Openclaw + Kimi 2.5 + Tailscale on fresh Ubuntu box_" by https://github.com/mortalezz

# OpenClaw: –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —É—Å—Ç–∞–Ω–æ–≤–∫–∏  
**(Hetzner + z.ai + OpenRouter)**

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π **bash-—Å–∫—Ä–∏–ø—Ç** –¥–ª—è —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è AI-—à–ª—é–∑–∞ **OpenClaw**
–Ω–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–∞—Ö —Å–µ—Ä–≤–µ—Ä–æ–≤ (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å–ø–µ—Ü–∏–∞–ª—å–Ω–æ –ø–æ–¥ Hetzner VDS –Ω–∞ –±–∞–∑–µ Ubuntu/Debian).

–°–∫—Ä–∏–ø—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω —Ç–∞–∫, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **z.ai** —Å –º–æ–¥–µ–ª—å—é **glm4.7** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞,
–∞ **OpenRouter** ‚Äî –∫–∞–∫ –Ω–∞–¥—ë–∂–Ω—É—é —Ä–µ–∑–µ—Ä–≤–Ω—É—é —Å–∏—Å—Ç–µ–º—É (fallback).  
–í—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç ¬´–∏–∑ –∫–æ—Ä–æ–±–∫–∏¬ª: –æ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –¥–æ –∑–∞–ø—É—Å–∫–∞ systemd-—Å–µ—Ä–≤–∏—Å–∞.

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

–ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É –ø–æ SSH –∫–∞–∫ **`root`** –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –Ω–∏–∂–µ:


# 1. –ó–∞–¥–∞–π—Ç–µ –≤–∞—à–∏ API-–∫–ª—é—á–∏ (–∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ)
```bash
export ZAI_API_KEY="–≤–∞—à_–∫–ª—é—á_–æ—Ç_zai"
export OPENROUTER_API_KEY="sk-or-–≤–∞—à_–∫–ª—é—á_–æ—Ç_openrouter"
```
# 2. –°–∫–∞—á–∞–π—Ç–µ –∏ —Å–¥–µ–ª–∞–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
```bash
curl -fsSL -O https://raw.githubusercontent.com/mortalezz/openclaw/main/openclaw-setup.sh
chmod +x openclaw-setup.sh
```
# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É
```bash
./openclaw-setup.sh
```

---

## üõ† –ü–æ–¥—Ä–æ–±–Ω—ã–π —Ä–∞–∑–±–æ—Ä —Å–∫—Ä–∏–ø—Ç–∞: —á—ë, –∫–∞–∫ –∏ –ø–æ—á–µ–º—É

–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Å–∫—Ä–∏–ø—Ç (–∏ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è) ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ ¬´—Å–∫–∞—á–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å¬ª, –∞ –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π **provisioning-—Å–∫—Ä–∏–ø—Ç**. 
–û–Ω —Ä–µ—à–∞–µ—Ç –≤—Å–µ —Ç–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –¥–µ—à—ë–≤—ã—Ö –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö VDS. –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–±–∏—Ç –Ω–∞ 6 –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–∑:

### –§–∞–∑–∞ 1: –ó–∞—â–∏—Ç–∞ –æ—Ç –∑–∞–≤–∏—Å–∞–Ω–∏—è –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ —è–¥—Ä–∞

**–ü—Ä–æ–±–ª–µ–º–∞**  
–ü—Ä–∏ `apt upgrade` –Ω–∞ —Å–≤–µ–∂–∏—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö Hetzner –ø–æ—á—Ç–∏ –≤—Å–µ–≥–¥–∞ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —è–¥—Ä–æ Linux. –ï—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è, —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã `apt` –∑–∞–≤–∏—Å–∞—é—Ç –Ω–∞–≤—Å–µ–≥–¥–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç**  
–ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ñ–∞–π–ª `/var/run/reboot-required`. –ï—Å–ª–∏ –æ–Ω —Å—É—â–µ—Å—Ç–≤—É–µ—Ç ‚Äî —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Å–µ–±—è –≤ `cron` (`@reboot`), –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–µ—Ä–≤–µ—Ä –∏ –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —É—Å—Ç–∞–Ω–æ–≤–∫—É —Å —Ç–æ–≥–æ –∂–µ –º–µ—Å—Ç–∞.

### –§–∞–∑–∞ 2: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ —Ñ–∏–∫—Å dbus

**–ü—Ä–æ–±–ª–µ–º–∞**  
–ù–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –æ–±—Ä–∞–∑–∞—Ö Ubuntu –æ—Ç Hetzner —É–¥–∞–ª—ë–Ω –ø–∞–∫–µ—Ç `dbus-user-session`. –ë–µ–∑ –Ω–µ–≥–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `systemd` –æ—Ç –æ–±—ã—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç**  
–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —É—Ç–∏–ª–∏—Ç—ã (`git`, `curl`, `ufw` –∏ –¥—Ä.) –∏ **–ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ** —Å—Ç–∞–≤–∏—Ç `dbus-user-session`.

### –§–∞–∑–∞ 3: –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `openclaw`

**–ü–æ—á–µ–º—É**  
–ó–∞–ø—É—Å–∫–∞—Ç—å —Å–µ—Ä–≤–µ—Ä–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –æ—Ç `root` ‚Äî –ø–ª–æ—Ö–∞—è –ø—Ä–∞–∫—Ç–∏–∫–∞.

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç**
1. –°–æ–∑–¥–∞—ë—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è `openclaw`.
2. –í–∫–ª—é—á–∞–µ—Ç `loginctl enable-linger` ‚Äî —Å–µ—Ä–≤–∏—Å—ã –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –ø–æ—Å–ª–µ –∑–∞–∫—Ä—ã—Ç–∏—è SSH.
3. –ö–æ–ø–∏—Ä—É–µ—Ç –≤–∞—à–∏ SSH-–∫–ª—é—á–∏ –æ—Ç `root`, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –ø–æ–¥–∫–ª—é—á–∞—Ç—å—Å—è –Ω–∞–ø—Ä—è–º—É—é: `ssh openclaw@IP`.

### –§–∞–∑–∞ 4: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Firewall (UFW)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç**  
–í–∫–ª—é—á–∞–µ—Ç –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä –∏ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –≤—Å—ë –≤—Ö–æ–¥—è—â–µ–µ, –æ—Å—Ç–∞–≤–ª—è—è –æ—Ç–∫—Ä—ã—Ç—ã–º–∏ —Ç–æ–ª—å–∫–æ –¥–≤–∞ –ø–æ—Ä—Ç–∞:

- **22** ‚Äî SSH –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- **18789** ‚Äî –ø–æ—Ä—Ç Gateway OpenClaw

### –§–∞–∑–∞ 5: –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è AI-–ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤ (z.ai + OpenRouter)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç**  
–°–∫–∞—á–∏–≤–∞–µ—Ç OpenClaw, —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç NPM-–ø–∞–∫–µ—Ç—ã –∏ —Å–æ–∑–¥–∞—ë—Ç —Ñ–∞–π–ª `.env`.

**–ü–æ—á–µ–º—É –∏–º–µ–Ω–Ω–æ —Ç–∞–∫**  
```env
PRIMARY_PROVIDER=z.ai
PRIMARY_MODEL=glm4.7
FALLBACK_PROVIDER=openrouter
```

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏–¥—É—Ç –≤ **z.ai ‚Üí glm4.7**.  
–ï—Å–ª–∏ z.ai –ø–µ—Ä–µ–≥—Ä—É–∂–µ–Ω –∏–ª–∏ —É–ø–∞–ª ‚Äî OpenClaw –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∏ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç—Å—è –Ω–∞ OpenRouter (–Ω–∞–ø—Ä–∏–º–µ—Ä, `gemini-2.5-flash`). –í–∞—à —á–∞—Ç –∏–ª–∏ –∞–≥–µ–Ω—Ç –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è.

### –§–∞–∑–∞ 6: –°–æ–∑–¥–∞–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ (Systemd)

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç**  
–°–æ–∑–¥–∞—ë—Ç —Å–∏—Å—Ç–µ–º–Ω—É—é —Å–ª—É–∂–±—É `/etc/systemd/system/openclaw.service`.

**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ**  
- OpenClaw —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –≤ —Ñ–æ–Ω–µ  
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ—Å—Ç–∞—Ä—Ç –ø—Ä–∏ –ø–∞–¥–µ–Ω–∏–∏ (`Restart=on-failure`)  
- –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–º–µ—Å—Ç–µ —Å —Å–µ—Ä–≤–µ—Ä–æ–º –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏

---

## üîé –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏


# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–∏—Å–∞
```bash
systemctl status openclaw
```
# –õ–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ (–æ—á–µ–Ω—å —É–¥–æ–±–Ω–æ –ø—Ä–∏ –æ—Ç–ª–∞–¥–∫–µ)
```bash
journalctl -u openclaw -f
```
# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å OpenClaw (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è .env)
```bash
systemctl restart openclaw
```
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –≤—Å–µ –ª–æ–≥–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 2 —á–∞—Å–∞
```bash
journalctl -u openclaw --since "2 hours ago"
```

---

**–ì–æ—Ç–æ–≤–æ!** üéâ

–¢–µ–ø–µ—Ä—å —É –≤–∞—Å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π, –æ—Ç–∫–∞–∑–æ—É—Å—Ç–æ–π—á–∏–≤—ã–π –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã–π AI-—à–ª—é–∑ OpenClaw —Å **glm4.7** –≤ –∫–∞—á–µ—Å—Ç–≤–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–æ–∑–≥–∞ –∏ OpenRouter –∫–∞–∫ —Å—Ç—Ä–∞—Ö–æ–≤–∫–æ–π.

–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥—ë—Ç –Ω–µ —Ç–∞–∫ ‚Äî –ø—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –µ—â—ë —Ä–∞–∑ (–æ–Ω –∏–¥–µ–º–ø–æ—Ç–µ–Ω—Ç–Ω—ã–π).
